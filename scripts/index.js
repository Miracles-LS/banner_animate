window.onload=function(){function a(a){$(window).scrollTop()<=0&&(pagePosition="top",a.preventDefault(),a.stopPropagation()),pagePosition&&(isTouchStart=!0,startX=a.changedTouches[0].pageX,startY=a.changedTouches[0].pageY)}function b(a){if(isTouchStart){if(dDis=Math.abs(a.touches[0].pageX-startX)-Math.abs(a.touches[0].pageY-startY),dDis>0)return!1;touchScaleY=a.changedTouches[0].pageY-startY,"top"==pagePosition&&(touchScaleY>0?(a.preventDefault(),changeScale=touchScaleY/screenHeight,changeScale>=1.5&&(changeScale=1.5),$Banner.removeClass("scaleSmall"),$container.removeClass("noTranslateY"),$Banner.css({transform:"scale("+(1+changeScale)+")"}),$container.css("transform","translateY("+bannerHeight*changeScale+"px)")):0>touchScaleY&&($("html,body").removeClass("overHidden"),$("html,body").addClass("scrollY"),$("html,body").scroll())),d(a,touchScaleY)}}function c(a){touchScaleY=a.changedTouches[0].pageY-startY,isTouchStart&&($Banner.addClass("scaleSmall"),$container.addClass("noTranslateY"),0>touchScaleY&&"top"==pagePosition&&(pagePosition="noTop",$("html,body").animate({scrollTop:Math.abs(touchScaleY)},250)),d(a,touchScaleY),isTouchStart=!1)}function d(a,b){b>0&&$(window).scrollTop()<=bannerHeight/2&&(a.preventDefault(),$("html,body").animate({scrollTop:0},0),$("html,body").addClass("overHidden"),$("html,body").removeClass("scrollY"),pagePosition="top")}$("html,body").scrollTop(0),$("html,body").scrollTop()<=0&&$("html,body").addClass("overHidden"),screenWidth=$(window).width(),screenHeight=$(window).height(),bannerHeight=$(".banner img").height(),$(".banner").css({width:screenWidth}),$body=document.querySelector("body"),$Banner=$(".banner"),$container=$(".container"),pagePosition="",startX=0,startY=0,$body.addEventListener("touchstart",a),$body.addEventListener("touchmove",b),$body.addEventListener("touchend",c)};