window.onload=function(){$('html,body').scrollTop(0);if($('html,body').scrollTop()<=0){$('html,body').addClass('overHidden')}let screenWidth=$(window).width();let screenHeight=$(window).height();let bannerHeight=$('.banner img').height();$('.banner').css({'width':screenWidth});let $body=document.querySelector('body');let $Banner=$('.banner');let $container=$('.container');let pagePosition='';let isTouchStart;let startX=0,startY=0;function touchStart(e){if($(window).scrollTop()<=0){pagePosition='top';e.preventDefault();e.stopPropagation()}if(pagePosition){isTouchStart=true;startX=e.changedTouches[0].pageX;startY=e.changedTouches[0].pageY}}function touchMove(e){if(isTouchStart){let dDis=Math.abs(e.touches[0].pageX-startX)-Math.abs(e.touches[0].pageY-startY);if(dDis>0)return false;let touchScaleY=e.changedTouches[0].pageY-startY;if(pagePosition=='top'){if(touchScaleY>0){e.preventDefault();let changeScale=touchScaleY/screenHeight;if(changeScale>=1.5){changeScale=1.5}$Banner.removeClass('scaleSmall');$container.removeClass('noTranslateY');$Banner.css({'transform':'scale('+(1+changeScale)+')'});$container.css('transform','translateY('+(bannerHeight*changeScale)+'px)')}else if(touchScaleY<0){$('html,body').removeClass('overHidden');$('html,body').addClass('scrollY');$('html,body').scroll()}}scrollFun(e,touchScaleY)}}function touchEnd(e){let touchScaleY=e.changedTouches[0].pageY-startY;if(isTouchStart){$Banner.addClass('scaleSmall');$container.addClass('noTranslateY');if(touchScaleY<0&&pagePosition=='top'){pagePosition='noTop';$('html,body').animate({scrollTop:Math.abs(touchScaleY)},250)}scrollFun(e,touchScaleY);isTouchStart=false}}function scrollFun(e,touchScaleY){if(touchScaleY>0&&$(window).scrollTop()<=(bannerHeight/2)){e.preventDefault();$('html,body').animate({scrollTop:0},0);$('html,body').addClass('overHidden');$('html,body').removeClass('scrollY');pagePosition='top'}}$body.addEventListener('touchstart',touchStart);$body.addEventListener('touchmove',touchMove);$body.addEventListener('touchend',touchEnd)}